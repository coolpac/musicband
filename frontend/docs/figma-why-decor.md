# Как перенести декоративные элементы «Почему мы?» из Figma в код

Чтобы декор на мобильных слайдах совпадал с макетом, можно либо использовать **временный визуальный редактор** в браузере, либо брать координаты **прямо из Figma** и подставлять их в код.

---

## Временный редактор в браузере (удобно расставить и скопировать JSON)

**Включение:** открой главную страницу с параметром `?decorEdit=1`, например:
`http://localhost:5173/?decorEdit=1` (или с `?screen=home&decorEdit=1`).

В секции «Почему мы?» появится редактор:
- вкладки **1, 2, …** — выбор слайда;
- кнопки **+ ellipse**, **+ vectorTop** и т.д. — добавить элемент на текущий слайд;
- **перетаскивание** элемента — двигает его;
- **правый нижний угол** элемента (белый квадратик) — тянем для изменения размера (где есть размер);
- на каждом элементе кнопки: скрыть/показать, удалить;
- **«Скопировать JSON»** — копирует в буфер массив позиций в формате для кода.

Скопированный JSON вставь в `HomeScreen.tsx` вместо массива **`whyMobileDecorFromFigma`** (замени массив целиком).

**Потом удалить:** файл `src/screens/WhyDecorEditor.tsx`, импорт и блок с `isDecorEdit` / `WhyDecorEditor` в `HomeScreen.tsx`, все стили с префиксом `.why-decor-editor` в `home.css`, этот абзац из документации.

---

## Ручной перенос из Figma

## 1. Размер фрейма в Figma

В Figma открой **фрейм одного слайда** секции «Почему мы?» (мобильная версия).

- В левой панели выбери этот фрейм.
- Справа в панели **Design** посмотри **Width** и **Height** фрейма (например 375×652).
- Эти числа нужно подставить в коде в константу **`FIGMA_MOBILE_WHY_FRAME`** в `HomeScreen.tsx`:

```ts
const FIGMA_MOBILE_WHY_FRAME = { width: 375, height: 652 }; // подставь размер своего фрейма
```

Если фрейм другой (например 390×700) — поменяй `width` и `height` на свои.

---

## 2. Соответствие слоёв Figma и полей в коде

В коде у каждого слайда есть 6 типов декора. Каждому типу соответствует **один слой** в Figma и **один файл** в проекте:

| В коде (ключ)   | Файл в проекте        | Что искать в Figma |
|-----------------|------------------------|--------------------|
| `ellipse`       | ellipse-240.svg        | Круг (чёрный круг) |
| `vectorTop`     | why-vector-top.svg     | Верхний волнистый вектор |
| `vectorBottom`  | why-vector-bottom.svg  | Нижний волнистый вектор |
| `vectorWide`    | why-vector-wide.svg    | Широкий/крупный вектор |
| `ellipseLeft`   | ellipse-242.svg        | Вертикальный эллипс (часто слева) |
| `ellipseRight`  | ellipse-241.svg        | Вертикальный эллипс (часто справа) |

В макете могут быть другие названия слоёв — ориентируйся по **внешнему виду** (круг, верхняя дуга, нижняя дуга, большой blob, левый эллипс, правый эллипс).

Если на каком‑то слайде в Figma **нет** одного из элементов — в коде для этого слайда можно задать `opacity: 0` для соответствующего ключа или не указывать его (тогда будет использоваться значение по умолчанию).

---

## 3. Как взять координаты и размеры в Figma

Для **каждого** декоративного слоя на слайде:

1. Выбери слой в Figma (например, круг или вектор).
2. В правой панели **Design** смотри:
   - **X** — расстояние от левого края **фрейма** до левого края элемента
   - **Y** — расстояние от верхнего края **фрейма** до верхнего края элемента
   - **Width** (W) и **Height** (H) — ширина и высота элемента

Если видишь координаты относительно другого контейнера — убедись, что считаешь от **того же фрейма слайда**, размер которого ты подставил в `FIGMA_MOBILE_WHY_FRAME`.

Альтернатива: **Inspect** (Shift+I) → в панели Code можно посмотреть позицию и размер; при необходимости пересчитай их относительно фрейма слайда.

---

## 4. Куда подставлять числа в коде

В `HomeScreen.tsx` найди массив **`whyMobileDecorFromFigma`**.

Для каждого слайда там объект с полями `ellipse`, `vectorTop`, `vectorBottom`, `vectorWide`, `ellipseLeft`, `ellipseRight`.

Формат для элементов с размером (круг и три вектора):

```ts
ellipse:    { x: 281, y: 72,  w: 50,  h: 50,  opacity: 1 },
vectorTop:  { x: 19,  y: 30,  w: 120, h: 100, opacity: 1 },
vectorWide: { x: 169, y: 210, w: 300, h: 240, opacity: 1 },
```

- **x** — X из Figma  
- **y** — Y из Figma  
- **w** — Width из Figma  
- **h** — Height из Figma  
- **opacity** — от 0 до 1 (если элемент не виден в макете — 0)

Для **эллипсов** (`ellipseLeft`, `ellipseRight`) в коде задаются только позиция и прозрачность (размер берётся из CSS):

```ts
ellipseLeft:  { x: -27, y: 469, opacity: 1 },
ellipseRight: { x: 319, y: 270, opacity: 0 },
```

Подставь **x** и **y** из Figma, **opacity** по макету.

---

## 5. Порядок слайдов

Слайд 0 в коде = первый слайд в списке «Почему мы?» (например, award-2025).  
Слайд 1 = второй слайд (award-2024), и т.д.

Убедись, что в Figma ты смотришь **тот же по счёту** слайд, что и в коде (по контенту: премия, живой звук, гибкие условия и т.д.).

---

## 6. Итог

1. Задать **`FIGMA_MOBILE_WHY_FRAME`** по размеру фрейма слайда в Figma.  
2. Для каждого слайда и каждого декоративного слоя взять в Figma **X, Y, Width, Height** (для эллипсов — только X, Y).  
3. Сопоставить слой с ключом (`ellipse`, `vectorTop`, …) по таблице выше.  
4. Вписать числа в **`whyMobileDecorFromFigma`** в `HomeScreen.tsx`.

После сохранения позиции декора на мобилке будут совпадать с макетом Figma; масштабирование под разную ширину экрана код уже делает сам.

---

**Примечание.** Сейчас в коде стоят приблизительные значения (пересчитанные из старых процентов). Чтобы декор совпадал с макетом один в один, открой каждый слайд в Figma и подставь реальные X, Y, W, H из панели Design (или Inspect) в массив `whyMobileDecorFromFigma` в `HomeScreen.tsx`.
