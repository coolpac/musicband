# Как проверить показатели оптимизации фронтенда

## 1. Ассеты (SVG + изображения)

Оптимизация файлов в `src/assets/`: SVG через SVGO, PNG/JPG → WebP через Sharp.

```bash
cd frontend
npm run optimize
```

В консоли будет отчёт:
- **SVG** — сколько файлов обработано и сколько KB сэкономлено
- **PNG/JPG → WebP** — размер до/после и экономия
- **Total saved** — общая экономия в KB

Запускайте после добавления новых картинок или при изменении SVG.

---

## 2. Размер бандла (JS/CSS)

Анализ того, какие пакеты и чанки занимают место, и размеры после gzip/brotli.

```bash
cd frontend
npm run analyze
```

После сборки откроется (или создастся) файл:
**`frontend/dist/stats.html`**

Откройте его в браузере:
- интерактивная диаграмма (дерево чанков)
- размеры в обычном виде, gzip и brotli
- можно искать по имени пакета/модуля

Что смотреть:
- самые большие блоки (vendor-react, vendor-calendar и т.д.)
- дублирование зависимостей
- неожиданно крупные модули

---

## 3. Размер сборки в терминале

Обычная сборка выводит размеры файлов в `dist/`:

```bash
cd frontend
npm run build
```

В конце Vite покажет список файлов и их размеры. Дополнительно можно посмотреть итог:

```bash
# Размер папки dist (macOS/Linux)
du -sh dist

# Размер по типам
du -sh dist/assets/*
```

---

## 4. Lighthouse (производительность в браузере)

Проверка загрузки страницы, Core Web Vitals, размера ресурсов.

1. Соберите и запустите превью:
   ```bash
   npm run build
   npm run preview
   ```
2. Откройте http://localhost:4173 (или тот порт, что покажет Vite).
3. В Chrome: DevTools (F12) → вкладка **Lighthouse**.
4. Выберите категории (Performance, Best practices и т.д.) и устройство (Desktop/Mobile).
5. Запустите анализ.

Смотрите:
- **Performance** — LCP, FID/INP, CLS
- **Diagnostics** — размеры и время загрузки ресурсов, возможности оптимизации

---

## 5. Сеть (размер загружаемых ресурсов)

1. `npm run build && npm run preview`
2. Откройте сайт в браузере.
3. DevTools → вкладка **Network**.
4. Обновите страницу с включённым кэшем или без (Disable cache).
5. Внизу: **Transferred** / **Size** — что реально ушло по сети и размер ресурсов.

Так можно проверить, что gzip/brotli и оптимизация картинок действительно уменьшают трафик.

---

## Краткий чеклист

| Что проверить              | Команда / действие                    |
|---------------------------|----------------------------------------|
| Ассеты (SVG, WebP)        | `npm run optimize`                     |
| Бандл и чанки             | `npm run analyze` → открыть `dist/stats.html` |
| Размер папки сборки       | `npm run build` → `du -sh dist`        |
| Загрузка в браузере       | `npm run preview` + Lighthouse + Network |
