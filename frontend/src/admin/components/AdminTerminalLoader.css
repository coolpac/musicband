/* Хакерский/кибер терминальный лоадер */

.admin-terminal-loader {
  position: fixed;
  inset: 0;
  min-height: 100vh;
  min-height: 100dvh;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  background: #030304;
  overflow: hidden;
  box-sizing: border-box;
}

/* В Telegram Mini App — по высоте viewport (учитывает интерфейс клиента) */
.tg-mini-app .admin-terminal-loader {
  min-height: var(--tg-viewport-stable-height, 100dvh);
  height: var(--tg-viewport-stable-height, 100%);
}

/* Фоновый «дождь» из 0/1 */
.admin-terminal-loader__binary {
  position: absolute;
  inset: 0;
  font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
  font-size: 11px;
  line-height: 1.4;
  color: rgba(0, 255, 136, 0.06);
  letter-spacing: 0.2em;
  overflow: hidden;
  pointer-events: none;
  white-space: pre-wrap;
  word-break: break-all;
}

.admin-terminal-loader__binary::before {
  content: '01001000 01100001 01100011 01101011 00100000 01100101 01110010 00100000 01000100 01100101 01101110 01101001 01100101 01100100 00001010 00110010 00110000 00110010 00110110 00100000 01000001 01000011 01000011 01000101 01010011 01010011 00100000 01000111 01010010 01000001 01001110 01010100 01000101 01000100 00001010';
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  animation: admin-binary-scroll 12s linear infinite;
}

@keyframes admin-binary-scroll {
  0% {
    transform: translateY(-100%);
  }
  100% {
    transform: translateY(100%);
  }
}

/* Лёгкий шум поверх */
.admin-terminal-loader__noise {
  position: absolute;
  inset: 0;
  opacity: 0.03;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
}

.admin-terminal-loader__window {
  width: 100%;
  max-width: 400px;
  border-radius: 8px;
  overflow: hidden;
  position: relative;
  z-index: 1;
  font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Fira Code', 'Consolas', monospace;
  font-size: 13px;
  line-height: 1.6;
  box-shadow:
    0 0 0 1px rgba(0, 255, 136, 0.2),
    0 0 30px rgba(0, 0, 0, 0.8),
    0 0 80px rgba(0, 255, 136, 0.08),
    inset 0 0 60px rgba(0, 0, 0, 0.4);
}

.admin-terminal-loader__titlebar {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 10px 14px;
  background: rgba(5, 10, 8, 0.98);
  border-bottom: 1px solid rgba(0, 255, 136, 0.25);
}

.admin-terminal-loader__dots {
  display: flex;
  gap: 6px;
}

.admin-terminal-loader__dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: rgba(60, 60, 60, 0.9);
}

.admin-terminal-loader__dot:nth-child(1) {
  background: #ff5f56;
}

.admin-terminal-loader__dot:nth-child(2) {
  background: #ffbd2e;
}

.admin-terminal-loader__dot:nth-child(3) {
  background: #27c93f;
}

.admin-terminal-loader__title {
  color: rgba(0, 255, 136, 0.6);
  font-size: 11px;
  letter-spacing: 0.08em;
}

.admin-terminal-loader__body {
  padding: 18px 20px;
  background: rgba(2, 6, 4, 0.98);
  min-height: 140px;
  position: relative;
}

.admin-terminal-loader__body::before {
  content: '';
  position: absolute;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    rgba(0, 0, 0, 0.04) 2px,
    rgba(0, 0, 0, 0.04) 4px
  );
  pointer-events: none;
}

.admin-terminal-loader__line {
  color: rgba(0, 255, 136, 0.85);
  opacity: 0;
  animation: admin-line-in 0.35s ease forwards;
}

.admin-terminal-loader__line--1 {
  animation-delay: 0.1s;
}

.admin-terminal-loader__line--2 {
  animation-delay: 0.35s;
}

.admin-terminal-loader__line--3 {
  animation-delay: 0.6s;
}

@keyframes admin-line-in {
  to {
    opacity: 1;
  }
}

.admin-terminal-loader__tag {
  color: rgba(0, 200, 255, 0.9);
  margin-right: 6px;
}

.admin-terminal-loader__ok {
  color: rgba(0, 255, 136, 0.7);
  margin-left: 4px;
}

/* Глитч на слове LOADING */
.admin-terminal-loader__glitch {
  position: relative;
  display: inline-block;
  color: rgba(0, 255, 136, 0.95);
  margin-left: 4px;
}

.admin-terminal-loader__glitch::before,
.admin-terminal-loader__glitch::after {
  content: attr(data-text);
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background: rgba(2, 6, 4, 0.98);
}

.admin-terminal-loader__glitch::before {
  left: 2px;
  text-shadow: -2px 0 #ff0040;
  animation: admin-glitch-1 2.5s infinite linear alternate-reverse;
  clip-path: inset(0 0 0 0);
}

.admin-terminal-loader__glitch::after {
  left: -2px;
  text-shadow: 2px 0 #00ffff;
  animation: admin-glitch-2 2s infinite linear alternate-reverse;
  clip-path: inset(0 0 0 0);
}

@keyframes admin-glitch-1 {
  0% {
    clip-path: inset(80% 0 5% 0);
  }
  20% {
    clip-path: inset(10% 0 70% 0);
  }
  40% {
    clip-path: inset(60% 0 20% 0);
  }
  60% {
    clip-path: inset(25% 0 50% 0);
  }
  80% {
    clip-path: inset(90% 0 2% 0);
  }
  100% {
    clip-path: inset(5% 0 80% 0);
  }
}

@keyframes admin-glitch-2 {
  0% {
    clip-path: inset(5% 0 80% 0);
  }
  20% {
    clip-path: inset(70% 0 10% 0);
  }
  40% {
    clip-path: inset(20% 0 60% 0);
  }
  60% {
    clip-path: inset(50% 0 25% 0);
  }
  80% {
    clip-path: inset(2% 0 90% 0);
  }
  100% {
    clip-path: inset(80% 0 5% 0);
  }
}

@media (prefers-reduced-motion: reduce) {
  .admin-terminal-loader__glitch::before,
  .admin-terminal-loader__glitch::after {
    animation: none;
    display: none;
  }
  .admin-terminal-loader__binary::before {
    animation: none;
  }
}

.admin-terminal-loader__cursor {
  display: inline-block;
  width: 2px;
  height: 1.1em;
  margin-left: 2px;
  background: rgba(0, 255, 136, 0.95);
  vertical-align: text-bottom;
  animation: admin-terminal-blink 0.8s step-end infinite;
}

@keyframes admin-terminal-blink {
  0%,
  50% {
    opacity: 1;
  }
  51%,
  100% {
    opacity: 0;
  }
}

/* Прогресс-бар в стиле терминала */
.admin-terminal-loader__progress-wrap {
  display: flex;
  align-items: center;
  gap: 4px;
  margin-top: 14px;
  color: rgba(0, 255, 136, 0.6);
  font-size: 12px;
  opacity: 0;
  animation: admin-line-in 0.35s ease 0.9s forwards;
}

.admin-terminal-loader__progress-bar {
  flex: 1;
  height: 10px;
  background: rgba(0, 255, 136, 0.08);
  border: 1px solid rgba(0, 255, 136, 0.2);
  border-radius: 2px;
  overflow: hidden;
}

.admin-terminal-loader__progress-fill {
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, rgba(0, 255, 136, 0.4), rgba(0, 255, 136, 0.9));
  box-shadow: 0 0 10px rgba(0, 255, 136, 0.5);
  animation: admin-progress-fill 1.8s ease-in-out infinite;
}

@keyframes admin-progress-fill {
  0% {
    width: 0;
  }
  50% {
    width: 78%;
  }
  100% {
    width: 0;
  }
}
